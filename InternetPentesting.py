import os,socket,requests,platform, sys, time

state=0

def logo1():
    print(""" _____         _                             _    ______               _               _    _               
|_   _|       | |                           | |   | ___ \             | |             | |  (_)              
  | |   _ __  | |_   ___  _ __  _ __    ___ | |_  | |_/ /  ___  _ __  | |_   ___  ___ | |_  _  _ __    __ _ 
  | |  | '_ \ | __| / _ \| '__|| '_ \  / _ \| __| |  __/  / _ \| '_ \ | __| / _ \/ __|| __|| || '_ \  / _` |
 _| |_ | | | || |_ |  __/| |   | | | ||  __/| |_  | |    |  __/| | | || |_ |  __/\__ \| |_ | || | | || (_| |
 \___/ |_| |_| \__| \___||_|   |_| |_| \___| \__| \_|     \___||_| |_| \__| \___||___/ \__||_||_| |_| \__, |
                                                                                                       __/ |
                                                                                                      |___/ 
    
    """)


#WebApi
def logo():
    
    print('''
 __      __     ____       ____                                           
/\ \  __/\ \   /\  _`\    /\  _`\                                   __    
\ \ \/\ \ \ \  \ \ \L\_\  \ \ \L\ \                __      _____   /\_\   
 \ \ \ \ \ \ \  \ \  _\L   \ \  _ <'             /'__`\   /\ '__`\ \/\ \  
  \ \ \_/ \_\ \  \ \ \L\ \  \ \ \L\ \           /\ \L\.\_ \ \ \L\ \ \ \ \ 
   \ `\___x___/   \ \____/   \ \____/           \ \__/.\_\ \ \ ,__/  \ \_\
''')
    print("""                                                           |Kuczi$|""")
    print()

def menu():
    print("""
1) Whois Lookup             8) HTTP Header                  
2) DNS Lookup               9) Host Finder
3) GeoIP Lookup             10) IP-Locator   
4) Subnet Lookup            11) Find Shared DNS Servers 
5) Port Scanner             12) Get Robots.txt   
6) Page Links               13) Host DNS Finder
7) Zone Transfer            14) Exit            

ctrl + c in order to exit
          """)
    print()

def GATHETOOL():

      
    try:
        
        if 1 > 2 :
              print("buffer")
        else:
            opciones()

            
    except socket.gaierror:
        GATHETOOL()
    except UnboundLocalError:
        GATHETOOL()
    except requests.exceptions.ConnectionError:
        exit
    except IndexError:
        print('?')
        GATHETOOL()



def opciones():
        logo()
        website = input('Website : ')
        
        
        menu()
        
        valorselec = input('Option: ')   

       
		   
        if valorselec == '1':
            whois = 'https://api.hackertarget.com/whois/?q='+website
            info = requests.get(whois)
            
            print(info.text)            
            opciones()


        elif valorselec == '2':
            dnslook = 'https://api.hackertarget.com/dnslookup/?q='+website
            info = requests.get(dnslook)
            
            print(info.text)
            opciones()

        elif valorselec == '3':
            ipgeo = 'https://api.hackertarget.com/geoip/?q='+website
            info = requests.get(ipgeo)
            
            print(info.text)
            opciones()

        elif valorselec == '4':
            subnet = 'http://api.hackertarget.com/subnetcalc/?q='+website
            info = requests.get(subnet)
            
            print(info.text)
            opciones()

        elif valorselec == '5':
            port = 'https://api.hackertarget.com/nmap/?q='+website
            info = requests.get(port)
            
            print(info.text)
            opciones()

        elif valorselec == '6':
            pagelink = 'https://api.hackertarget.com/pagelinks/?q='+website
            info = requests.get(pagelink)
            
            print(info.text)
            opciones()

        elif valorselec == '7':
            zone = 'https://api.hackertarget.com/zonetransfer/?q='+website
            info = requests.get(zone)
            
            print(info.text)
            opciones()

        elif valorselec == '8':
            header = "https://api.hackertarget.com/httpheaders/?q="+website
            info = requests.get(header)
            
            print(info.text)
            opciones()

        elif valorselec == '9':
            host = "https://api.hackertarget.com/hostsearch/?q="+website
            info = requests.get(host)
            
            print(info.text)
            opciones()

        elif valorselec == '10':
            website = socket.gethostbyname(website)
            iplt = 'https://ipinfo.io/'+website+'/json'
            info = requests.get(iplt)
            
            print(info.text)
            opciones()

        elif valorselec == '11':
           
            shared = 'https://api.hackertarget.com/findshareddns/?q='+website
            info = requests.get(shared)
            
            print(info.text)
            opciones()

        elif valorselec == '12':
            robots ='http://'+website+'/robots.txt'
            info = requests.get(robots)
            
            print(info.text)
            opciones()

        elif valorselec == '13':
            hostdns = 'https://api.hackertarget.com/mtr/?q='+website
            info = requests.get(hostdns)
            
            print(info.text)
            opciones()



        elif valorselec == '14':
            exit

        else:
           
            GATHETOOL()


#URL SHORTENER
def GenTiny():
	 
    print("""
 __  __      ____        __                                         
/\ \/\ \    /\  _`\     /\ \                                        
\ \ \ \ \   \ \ \L\ \   \ \ \       
 \ \ \ \ \   \ \ ,  /    \ \ \  __  
  \ \ \_\ \   \ \ \\ \    \ \ \L\ \ 
   \ \_____\   \ \_\ \_\   \ \____/ 
    \/_____/    \/_/\/ /    \/___/   
                                                                                                                              
                                                                                                                              
  Kuczi$ 
""")
    GenTiny1()

def GenTiny1():
    url = input("URL# ")
    tiny = 'http://tinyurl.com/api-create.php?url='+url
    info = requests.get(tiny)
    print("Link# "+info.text)
    print("©Kuczi$")
    os.system("pause")
    selection()

#Menu

def selection():
    logo1()
    print("""
    Menu:
    1) WebApi.exe
    2) UrlShortener.exe
    3) Exit

    ©Kuczi$    
    """)
    try:
        sel = int(input('Your selection: '))
        if sel == 1:
            GATHETOOL()
        elif sel == 2:
            GenTiny()
        else:
            print("Goodbye!")
            print("©Kuczi$")
            time.sleep(2)
            state=1
            exit


    except:
        print("Type number between 1-3.")
        time.sleep(2)
        print("\n")

        selection()

if state ==0:
    selection()

